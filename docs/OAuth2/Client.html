<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: OAuth2::Client
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "OAuth2::Client";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../OAuth2.html" title="OAuth2 (module)">OAuth2</a></span></span>
     &raquo; 
    <span class="title">Client</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: OAuth2::Client
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">OAuth2::Client</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="FilteredAttributes.html" title="OAuth2::FilteredAttributes (module)">FilteredAttributes</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/oauth2/client.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>The OAuth2::Client class</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="RESERVED_REQ_KEYS-constant" class="">RESERVED_REQ_KEYS =
          <div class="docstring">
  <div class="discussion">
    <p>rubocop:disable Metrics/ClassLength</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w[</span><span class='tstring_content'>body</span><span class='words_sep'> </span><span class='tstring_content'>headers</span><span class='words_sep'> </span><span class='tstring_content'>params</span><span class='words_sep'> </span><span class='tstring_content'>redirect_count</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="RESERVED_PARAM_KEYS-constant" class="">RESERVED_PARAM_KEYS =
          
        </dt>
        <dd><pre class="code"><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RESERVED_REQ_KEYS-constant" title="OAuth2::Client::RESERVED_REQ_KEYS (constant)">RESERVED_REQ_KEYS</a></span></span> <span class='op'>+</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>parse</span><span class='words_sep'> </span><span class='tstring_content'>snaky</span><span class='words_sep'> </span><span class='tstring_content'>snaky_hash_klass</span><span class='words_sep'> </span><span class='tstring_content'>token_method</span><span class='tstring_end'>]</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#connection-instance_method" title="#connection (instance method)">#<strong>connection</strong>  &#x21d2; Faraday::Connection </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The Faraday connection object.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">#<strong>id</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute id.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute options.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#secret-instance_method" title="#secret (instance method)">#<strong>secret</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute secret.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#site-instance_method" title="#site (instance method)">#<strong>site</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute site.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assertion-instance_method" title="#assertion (instance method)">#<strong>assertion</strong>  &#x21d2; OAuth2::Strategy::Assertion </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The Assertion strategy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#auth_code-instance_method" title="#auth_code (instance method)">#<strong>auth_code</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The Authorization Code strategy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#authorize_url-instance_method" title="#authorize_url (instance method)">#<strong>authorize_url</strong>(params = {})  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The authorize endpoint URL of the OAuth2 provider.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#client_credentials-instance_method" title="#client_credentials (instance method)">#<strong>client_credentials</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The Client Credentials strategy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_token-instance_method" title="#get_token (instance method)">#<strong>get_token</strong>(params, access_token_opts = {}, extract_access_token = nil) {|opts| ... } &#x21d2; AccessToken<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Retrieves an access token from the token endpoint using the specified parameters.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#http_method-instance_method" title="#http_method (instance method)">#<strong>http_method</strong>  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The HTTP Method of the request.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#implicit-instance_method" title="#implicit (instance method)">#<strong>implicit</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The Implicit strategy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(client_id, client_secret, options = {}) {|builder| ... } &#x21d2; Client </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Initializes a new OAuth2::Client instance using the Client ID and Client Secret registered to your application.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#password-instance_method" title="#password (instance method)">#<strong>password</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The Resource Owner Password Credentials strategy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#redirection_params-instance_method" title="#redirection_params (instance method)">#<strong>redirection_params</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The redirect_uri parameters, if configured.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#request-instance_method" title="#request (instance method)">#<strong>request</strong>(verb, url, req_opts = {}) {|req| ... } &#x21d2; OAuth2::Response </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Makes a request relative to the specified site root.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#revoke_token-instance_method" title="#revoke_token (instance method)">#<strong>revoke_token</strong>(token, token_type_hint = nil, params = {}) {|req| ... } &#x21d2; OAuth2::Response </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Makes a request to revoke a token at the authorization server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#revoke_url-instance_method" title="#revoke_url (instance method)">#<strong>revoke_url</strong>(params = nil)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The revoke endpoint URL of the OAuth2 provider.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#token_url-instance_method" title="#token_url (instance method)">#<strong>token_url</strong>(params = nil)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The token endpoint URL of the OAuth2 provider.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="FilteredAttributes.html" title="OAuth2::FilteredAttributes (module)">FilteredAttributes</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="FilteredAttributes.html#included-class_method" title="OAuth2::FilteredAttributes.included (method)">included</a></span>, <span class='object_link'><a href="FilteredAttributes.html#inspect-instance_method" title="OAuth2::FilteredAttributes#inspect (method)">#inspect</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(client_id, client_secret, options = {}) {|builder| ... } &#x21d2; <tt><span class='object_link'><a href="" title="OAuth2::Client (class)">Client</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Initializes a new OAuth2::Client instance using the Client ID and Client Secret registered to your application.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>client_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the client_id value</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>client_secret</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the client_secret value</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the options to configure the client</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:site</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>the OAuth2 provider site host</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:authorize_url</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>&#39;/oauth/authorize&#39;</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>absolute or relative URL path to the Authorization endpoint</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:revoke_url</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>&#39;/oauth/revoke&#39;</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>absolute or relative URL path to the Revoke endpoint</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:token_url</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>&#39;/oauth/token&#39;</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>absolute or relative URL path to the Token endpoint</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:token_method</span>
          <span class="type">(<tt>Symbol</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>:post</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>HTTP method to use to request token (:get, :post, :post_with_query_string)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:auth_scheme</span>
          <span class="type">(<tt>Symbol</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>:basic_auth</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>the authentication scheme (:basic_auth, :request_body, :tls_client_auth, :private_key_jwt)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:connection_opts</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>{}</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Hash of connection options to pass to initialize Faraday</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:raise_errors</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>whether to raise an OAuth2::Error on responses with 400+ status codes</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:max_redirects</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>5</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>maximum number of redirects to follow</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:logger</span>
          <span class="type">(<tt>Logger</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>::Logger.new($stdout)</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Logger instance for HTTP request/response output; requires OAUTH_DEBUG to be true</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:access_token_class</span>
          <span class="type">(<tt>Class</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>AccessToken</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>class to use for access tokens; you can subclass OAuth2::AccessToken, @version 2.0+</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:ssl</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>SSL options for Faraday</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>builder</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The Faraday connection builder</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 50</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_client_id'>client_id</span><span class='comma'>,</span> <span class='id identifier rubyid_client_secret'>client_secret</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='ivar'>@id</span> <span class='op'>=</span> <span class='id identifier rubyid_client_id'>client_id</span>
  <span class='ivar'>@secret</span> <span class='op'>=</span> <span class='id identifier rubyid_client_secret'>client_secret</span>
  <span class='ivar'>@site</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:site</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ssl'>ssl</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:ssl</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OAuth2::Client#initialize argument `extract_access_token` will be removed in oauth2 v3. Refactor to use `access_token_class`.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:extract_access_token</span><span class='rbracket'>]</span>
  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>authorize_url:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>oauth/authorize</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>revoke_url:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>oauth/revoke</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>token_url:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>oauth/token</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>token_method:</span> <span class='symbol'>:post</span><span class='comma'>,</span>
    <span class='label'>auth_scheme:</span> <span class='symbol'>:basic_auth</span><span class='comma'>,</span>
    <span class='label'>connection_opts:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>connection_build:</span> <span class='id identifier rubyid_block'>block</span><span class='comma'>,</span>
    <span class='label'>max_redirects:</span> <span class='int'>5</span><span class='comma'>,</span>
    <span class='label'>raise_errors:</span> <span class='kw'>true</span><span class='comma'>,</span>
    <span class='label'>logger:</span> <span class='op'>::</span><span class='const'>Logger</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='gvar'>$stdout</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='label'>access_token_class:</span> <span class='const'><span class='object_link'><a href="AccessToken.html" title="OAuth2::AccessToken (class)">AccessToken</a></span></span><span class='comma'>,</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:connection_opts</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:ssl</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_ssl'>ssl</span> <span class='kw'>if</span> <span class='id identifier rubyid_ssl'>ssl</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="connection=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="connection-instance_method">
  
    #<strong>connection</strong>  &#x21d2; <tt>Faraday::Connection</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The Faraday connection object</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Faraday::Connection</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the initialized Faraday connection</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87
88
89
90
91
92
93
94
95
96</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 85</span>

<span class='kw'>def</span> <span class='id identifier rubyid_connection'>connection</span>
  <span class='ivar'>@connection</span> <span class='op'>||=</span>
    <span class='const'>Faraday</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_site'>site</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:connection_opts</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_builder'>builder</span><span class='op'>|</span>
      <span class='id identifier rubyid_oauth_debug_logging'>oauth_debug_logging</span><span class='lparen'>(</span><span class='id identifier rubyid_builder'>builder</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:connection_build</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:connection_build</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_builder'>builder</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='lparen'>(</span><span class='symbol'>:url_encoded</span><span class='rparen'>)</span>             <span class='comment'># form-encode POST params
</span>        <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_adapter'>adapter</span><span class='lparen'>(</span><span class='const'>Faraday</span><span class='period'>.</span><span class='id identifier rubyid_default_adapter'>default_adapter</span><span class='rparen'>)</span>  <span class='comment'># make requests with Net::HTTP
</span>      <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="id-instance_method">
  
    #<strong>id</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute id.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_id'>id</span>
  <span class='ivar'>@id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="options=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="options-instance_method">
  
    #<strong>options</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute options.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 27</span>

<span class='kw'>def</span> <span class='id identifier rubyid_options'>options</span>
  <span class='ivar'>@options</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="secret-instance_method">
  
    #<strong>secret</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute secret.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_secret'>secret</span>
  <span class='ivar'>@secret</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="site=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="site-instance_method">
  
    #<strong>site</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute site.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_site'>site</span>
  <span class='ivar'>@site</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="assertion-instance_method">
  
    #<strong>assertion</strong>  &#x21d2; <tt><span class='object_link'><a href="Strategy/Assertion.html" title="OAuth2::Strategy::Assertion (class)">OAuth2::Strategy::Assertion</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The Assertion strategy</p>

<p>This allows for assertion-based authentication where an identity provider<br />
asserts the identity of the user or client application seeking access.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Strategy/Assertion.html" title="OAuth2::Strategy::Assertion (class)">OAuth2::Strategy::Assertion</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the initialized Assertion strategy</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://datatracker.ietf.org/doc/html/rfc7521" target="_parent" title="http://datatracker.ietf.org/doc/html/rfc7521">http://datatracker.ietf.org/doc/html/rfc7521</a></li>
    
      <li><a href="http://datatracker.ietf.org/doc/html/draft-ietf-oauth-assertions-01#section-4.1" target="_parent" title="http://datatracker.ietf.org/doc/html/draft-ietf-oauth-assertions-01#section-4.1">http://datatracker.ietf.org/doc/html/draft-ietf-oauth-assertions-01#section-4.1</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


314
315
316</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 314</span>

<span class='kw'>def</span> <span class='id identifier rubyid_assertion'>assertion</span>
  <span class='ivar'>@assertion</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../OAuth2.html" title="OAuth2 (module)">OAuth2</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Strategy.html" title="OAuth2::Strategy (module)">Strategy</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Strategy/Assertion.html" title="OAuth2::Strategy::Assertion (class)">Assertion</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Strategy/Base.html#initialize-instance_method" title="OAuth2::Strategy::Base#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="auth_code-instance_method">
  
    #<strong>auth_code</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The Authorization Code strategy</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-15#section-4.1" target="_parent" title="http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-15#section-4.1">http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-15#section-4.1</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


280
281
282</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 280</span>

<span class='kw'>def</span> <span class='id identifier rubyid_auth_code'>auth_code</span>
  <span class='ivar'>@auth_code</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../OAuth2.html" title="OAuth2 (module)">OAuth2</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Strategy.html" title="OAuth2::Strategy (module)">Strategy</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Strategy/AuthCode.html" title="OAuth2::Strategy::AuthCode (class)">AuthCode</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Strategy/Base.html#initialize-instance_method" title="OAuth2::Strategy::Base#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="authorize_url-instance_method">
  
    #<strong>authorize_url</strong>(params = {})  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The authorize endpoint URL of the OAuth2 provider</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>additional query parameters</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the constructed authorize URL</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 102</span>

<span class='kw'>def</span> <span class='id identifier rubyid_authorize_url'>authorize_url</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_redirection_params'>redirection_params</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_connection'>connection</span><span class='period'>.</span><span class='id identifier rubyid_build_url'>build_url</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:authorize_url</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="client_credentials-instance_method">
  
    #<strong>client_credentials</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The Client Credentials strategy</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-15#section-4.4" target="_parent" title="http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-15#section-4.4">http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-15#section-4.4</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


301
302
303</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 301</span>

<span class='kw'>def</span> <span class='id identifier rubyid_client_credentials'>client_credentials</span>
  <span class='ivar'>@client_credentials</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../OAuth2.html" title="OAuth2 (module)">OAuth2</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Strategy.html" title="OAuth2::Strategy (module)">Strategy</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Strategy/ClientCredentials.html" title="OAuth2::Strategy::ClientCredentials (class)">ClientCredentials</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Strategy/Base.html#initialize-instance_method" title="OAuth2::Strategy::Base#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_token-instance_method">
  
    #<strong>get_token</strong>(params, access_token_opts = {}, extract_access_token = nil) {|opts| ... } &#x21d2; <tt><span class='object_link'><a href="AccessToken.html" title="OAuth2::AccessToken (class)">AccessToken</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>The extract_access_token parameter is deprecated and will be removed in oauth2 v3.<br />
Use access_token_class on initialization instead.</p>
</div>
  </div>

<p>Retrieves an access token from the token endpoint using the specified parameters</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_get_token'>get_token</span><span class='lparen'>(</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>grant_type</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>authorization_code</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>code</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>auth_code_value</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>headers</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Authorization</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Basic ...</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span>
<span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a Hash of params for the token endpoint</p>
<ul>
  <li>params can include a ‘headers’ key with a Hash of request headers</li>
  <li>params can include a ‘parse’ key with the Symbol name of response parsing strategy (default: :automatic)</li>
  <li>params can include a ‘snaky’ key to control snake_case conversion (default: false)</li>
</ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>access_token_opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>options that will be passed to the AccessToken initialization</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>extract_access_token</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>(deprecated) a proc that can extract the access token from the response</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>opts</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The block is passed the options being used to make the request</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>options being passed to the http library</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="AccessToken.html" title="OAuth2::AccessToken (class)">AccessToken</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the initialized AccessToken instance, or nil if token extraction fails<br />
and raise_errors is false</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


208
209
210
211
212
213
214
215
216
217
218
219
220
221
222</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 208</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_token'>get_token</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='id identifier rubyid_access_token_opts'>access_token_opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_extract_access_token'>extract_access_token</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OAuth2::Client#get_token argument `extract_access_token` will be removed in oauth2 v3. Refactor to use `access_token_class` on #initialize.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_extract_access_token'>extract_access_token</span>
  <span class='id identifier rubyid_extract_access_token'>extract_access_token</span> <span class='op'>||=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:extract_access_token</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_req_opts'>req_opts</span> <span class='op'>=</span> <span class='id identifier rubyid_params_to_req_opts'>params_to_req_opts</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_request'>request</span><span class='lparen'>(</span><span class='id identifier rubyid_http_method'>http_method</span><span class='comma'>,</span> <span class='id identifier rubyid_token_url'>token_url</span><span class='comma'>,</span> <span class='id identifier rubyid_req_opts'>req_opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>

  <span class='comment'># In v1.4.x, the deprecated extract_access_token option retrieves the token from the response.
</span>  <span class='comment'># We preserve this behavior here, but a custom access_token_class that implements #from_hash
</span>  <span class='comment'># should be used instead.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_extract_access_token'>extract_access_token</span>
    <span class='id identifier rubyid_parse_response_legacy'>parse_response_legacy</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='comma'>,</span> <span class='id identifier rubyid_access_token_opts'>access_token_opts</span><span class='comma'>,</span> <span class='id identifier rubyid_extract_access_token'>extract_access_token</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_parse_response'>parse_response</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='comma'>,</span> <span class='id identifier rubyid_access_token_opts'>access_token_opts</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="http_method-instance_method">
  
    #<strong>http_method</strong>  &#x21d2; <tt>Symbol</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The HTTP Method of the request</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>HTTP verb, one of [:get, :post, :put, :delete]</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270
271
272
273
274
275</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 270</span>

<span class='kw'>def</span> <span class='id identifier rubyid_http_method'>http_method</span>
  <span class='id identifier rubyid_http_meth'>http_meth</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:token_method</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
  <span class='kw'>return</span> <span class='symbol'>:post</span> <span class='kw'>if</span> <span class='id identifier rubyid_http_meth'>http_meth</span> <span class='op'>==</span> <span class='symbol'>:post_with_query_string</span>

  <span class='id identifier rubyid_http_meth'>http_meth</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="implicit-instance_method">
  
    #<strong>implicit</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The Implicit strategy</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-26#section-4.2" target="_parent" title="http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-26#section-4.2">http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-26#section-4.2</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


287
288
289</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 287</span>

<span class='kw'>def</span> <span class='id identifier rubyid_implicit'>implicit</span>
  <span class='ivar'>@implicit</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../OAuth2.html" title="OAuth2 (module)">OAuth2</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Strategy.html" title="OAuth2::Strategy (module)">Strategy</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Strategy/Implicit.html" title="OAuth2::Strategy::Implicit (class)">Implicit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Strategy/Base.html#initialize-instance_method" title="OAuth2::Strategy::Base#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="password-instance_method">
  
    #<strong>password</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The Resource Owner Password Credentials strategy</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-15#section-4.3" target="_parent" title="http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-15#section-4.3">http://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-15#section-4.3</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 294</span>

<span class='kw'>def</span> <span class='id identifier rubyid_password'>password</span>
  <span class='ivar'>@password</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../OAuth2.html" title="OAuth2 (module)">OAuth2</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Strategy.html" title="OAuth2::Strategy (module)">Strategy</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Strategy/Password.html" title="OAuth2::Strategy::Password (class)">Password</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Strategy/Base.html#initialize-instance_method" title="OAuth2::Strategy::Base#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="redirection_params-instance_method">
  
    #<strong>redirection_params</strong>  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The redirect_uri parameters, if configured</p>

<p>The redirect_uri query parameter is OPTIONAL (though encouraged) when<br />
requesting authorization. If it is provided at authorization time it MUST<br />
also be provided with the token exchange request.</p>

<p>OAuth 2.1 note: Authorization Servers must compare redirect URIs using exact string matching.<br />
This client simply forwards the configured redirect_uri; the exact-match validation happens server-side.</p>

<p>Providing :redirect_uri to the OAuth2::Client instantiation will take<br />
care of managing this.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the params to add to a request or URL</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1" target="_parent" title="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1">https://datatracker.ietf.org/doc/html/rfc6749#section-4.1</a></li>
    
      <li><a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.3" target="_parent" title="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.3">https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.3</a></li>
    
      <li><a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.2.1" target="_parent" title="https://datatracker.ietf.org/doc/html/rfc6749#section-4.2.1">https://datatracker.ietf.org/doc/html/rfc6749#section-4.2.1</a></li>
    
      <li><a href="https://datatracker.ietf.org/doc/html/rfc6749#section-10.6" target="_parent" title="https://datatracker.ietf.org/doc/html/rfc6749#section-10.6">https://datatracker.ietf.org/doc/html/rfc6749#section-10.6</a></li>
    
      <li><a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-1-13" target="_parent" title="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-1-13">https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-1-13</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


339
340
341
342
343
344
345</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 339</span>

<span class='kw'>def</span> <span class='id identifier rubyid_redirection_params'>redirection_params</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:redirect_uri</span><span class='rbracket'>]</span>
    <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>redirect_uri</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:redirect_uri</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="request-instance_method">
  
    #<strong>request</strong>(verb, url, req_opts = {}) {|req| ... } &#x21d2; <tt><span class='object_link'><a href="Response.html" title="OAuth2::Response (class)">OAuth2::Response</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Makes a request relative to the specified site root.</p>

<p>Updated HTTP 1.1 specification (IETF RFC 7231) relaxed the original constraint (IETF RFC 2616),<br />
  allowing the use of relative URLs in Location headers.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>verb</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>one of [:get, :post, :put, :delete]</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>url</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>URL path of request</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>req_opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the options to make the request with</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>req_opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:params</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>additional query parameters for the URL of the request</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:body</span>
          <span class="type">(<tt>Hash</tt>, <tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>the body of the request</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:headers</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>http request headers</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:raise_errors</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>whether to raise an OAuth2::Error on 400+ status<br />
code response for this request.  Overrides the client instance setting.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:parse</span>
          <span class="type">(<tt>Symbol</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>@see Response::initialize</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:snaky</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>@see Response::initialize</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>req</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The block is passed the request being made, allowing customization</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>req</span>
      
      
        <span class='type'>(<tt>Faraday::Request</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The request object that can be modified</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Response.html" title="OAuth2::Response (class)">OAuth2::Response</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the response from the request</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://datatracker.ietf.org/doc/html/rfc7231#section-7.1.2" target="_parent" title="https://datatracker.ietf.org/doc/html/rfc7231#section-7.1.2">https://datatracker.ietf.org/doc/html/rfc7231#section-7.1.2</a></li>
    
      <li>Faraday::Connection#run_request</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_request'>request</span><span class='lparen'>(</span><span class='id identifier rubyid_verb'>verb</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_req_opts'>req_opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_execute_request'>execute_request</span><span class='lparen'>(</span><span class='id identifier rubyid_verb'>verb</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_req_opts'>req_opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_status'>status</span>
  <span class='kw'>when</span> <span class='int'>301</span><span class='comma'>,</span> <span class='int'>302</span><span class='comma'>,</span> <span class='int'>303</span><span class='comma'>,</span> <span class='int'>307</span>
    <span class='id identifier rubyid_req_opts'>req_opts</span><span class='lbracket'>[</span><span class='symbol'>:redirect_count</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_req_opts'>req_opts</span><span class='lbracket'>[</span><span class='symbol'>:redirect_count</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_response'>response</span> <span class='kw'>if</span> <span class='id identifier rubyid_req_opts'>req_opts</span><span class='lbracket'>[</span><span class='symbol'>:redirect_count</span><span class='rbracket'>]</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:max_redirects</span><span class='rbracket'>]</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='int'>303</span>
      <span class='id identifier rubyid_verb'>verb</span> <span class='op'>=</span> <span class='symbol'>:get</span>
      <span class='id identifier rubyid_req_opts'>req_opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:body</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_location'>location</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_headers'>headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>location</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_location'>location</span>
      <span class='id identifier rubyid_full_location'>full_location</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_location'>location</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_request'>request</span><span class='lparen'>(</span><span class='id identifier rubyid_verb'>verb</span><span class='comma'>,</span> <span class='id identifier rubyid_full_location'>full_location</span><span class='comma'>,</span> <span class='id identifier rubyid_req_opts'>req_opts</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Error.html" title="OAuth2::Error (class)">Error</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Error.html#initialize-instance_method" title="OAuth2::Error#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='id identifier rubyid_error'>error</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_status'>status</span><span class='embexpr_end'>}</span><span class='tstring_content'> status code, but no Location header was present</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='int'>200</span><span class='op'>..</span><span class='int'>299</span><span class='comma'>,</span> <span class='int'>300</span><span class='op'>..</span><span class='int'>399</span>
    <span class='comment'># on non-redirecting 3xx statuses, return the response
</span>    <span class='id identifier rubyid_response'>response</span>
  <span class='kw'>when</span> <span class='int'>400</span><span class='op'>..</span><span class='int'>599</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_req_opts'>req_opts</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:raise_errors</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:raise_errors</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Error.html" title="OAuth2::Error (class)">Error</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Error.html#initialize-instance_method" title="OAuth2::Error#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='id identifier rubyid_error'>error</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_response'>response</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_error'>error</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Error.html" title="OAuth2::Error (class)">Error</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Error.html#initialize-instance_method" title="OAuth2::Error#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='id identifier rubyid_error'>error</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unhandled status code value of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_status'>status</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="revoke_token-instance_method">
  
    #<strong>revoke_token</strong>(token, token_type_hint = nil, params = {}) {|req| ... } &#x21d2; <tt><span class='object_link'><a href="Response.html" title="OAuth2::Response (class)">OAuth2::Response</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>If the token passed to the request<br />
is an access token, the server MAY revoke the respective refresh<br />
token as well.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>If the token passed to the request<br />
is a refresh token and the authorization server supports the<br />
revocation of access tokens, then the authorization server SHOULD<br />
also invalidate all access tokens based on the same authorization<br />
grant</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>If the server responds with HTTP status code 503, your code must<br />
assume the token still exists and may retry after a reasonable delay.<br />
The server may include a “Retry-After” header in the response to<br />
indicate how long the service is expected to be unavailable to the<br />
requesting client.</p>
</div>
  </div>

<p>Makes a request to revoke a token at the authorization server</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>token</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The token to be revoked</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>token_type_hint</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>A hint about the type of the token being revoked (e.g., ‘access_token’ or ‘refresh_token’)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>additional parameters for the token revocation</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>params</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:parse</span>
          <span class="type">(<tt>Symbol</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>:automatic</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>parsing strategy for the response</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:snaky</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>whether to convert response keys to snake_case</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:token_method</span>
          <span class="type">(<tt>Symbol</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>:post_with_query_string</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>overrides OAuth2::Client#options[:token_method]</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:headers</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>Additional request headers</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>req</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The block is passed the request being made, allowing customization</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>req</span>
      
      
        <span class='type'>(<tt>Faraday::Request</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The request object that can be modified</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Response.html" title="OAuth2::Response (class)">OAuth2::Response</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>OAuth2::Response instance</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://datatracker.ietf.org/doc/html/rfc7009" target="_parent" title="https://datatracker.ietf.org/doc/html/rfc7009">https://datatracker.ietf.org/doc/html/rfc7009</a></li>
    
      <li><a href="https://datatracker.ietf.org/doc/html/rfc7009#section-2.1" target="_parent" title="https://datatracker.ietf.org/doc/html/rfc7009#section-2.1">https://datatracker.ietf.org/doc/html/rfc7009#section-2.1</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


257
258
259
260
261
262
263
264
265</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 257</span>

<span class='kw'>def</span> <span class='id identifier rubyid_revoke_token'>revoke_token</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_token_type_hint'>token_type_hint</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:token_method</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='symbol'>:post_with_query_string</span>
  <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:token</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_token'>token</span>
  <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:token_type_hint</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_token_type_hint'>token_type_hint</span> <span class='kw'>if</span> <span class='id identifier rubyid_token_type_hint'>token_type_hint</span>

  <span class='id identifier rubyid_req_opts'>req_opts</span> <span class='op'>=</span> <span class='id identifier rubyid_params_to_req_opts'>params_to_req_opts</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_request'>request</span><span class='lparen'>(</span><span class='id identifier rubyid_http_method'>http_method</span><span class='comma'>,</span> <span class='id identifier rubyid_revoke_url'>revoke_url</span><span class='comma'>,</span> <span class='id identifier rubyid_req_opts'>req_opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="revoke_url-instance_method">
  
    #<strong>revoke_url</strong>(params = nil)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The revoke endpoint URL of the OAuth2 provider</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Hash</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>additional query parameters</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the constructed revoke URL</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_revoke_url'>revoke_url</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_connection'>connection</span><span class='period'>.</span><span class='id identifier rubyid_build_url'>build_url</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:revoke_url</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="token_url-instance_method">
  
    #<strong>token_url</strong>(params = nil)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The token endpoint URL of the OAuth2 provider</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Hash</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>additional query parameters</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the constructed token URL</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oauth2/client.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_token_url'>token_url</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_connection'>connection</span><span class='period'>.</span><span class='id identifier rubyid_build_url'>build_url</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:token_url</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Sep 15 21:28:40 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.5).
</div>

    </div>
  </body>
</html>